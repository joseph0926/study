# 실험 2.1: setTimeout(0)의 의미

## 최상위 질문

`setTimeout(fn, 0)`에서 `0`은 "즉시 실행"을 의미하는가?

---

## 실험 코드

```javascript
console.log("A");
setTimeout(() => console.log("B"), 0);
console.log("C");
```

---

## 당신의 예측

**질문 1: 출력 순서는?**

```
A -> C -> B
```

**예측한 이유:**

```
- setTimeout(0)의 '0'은 무엇을 의미하는가?
- '0초 후'라면 언제 실행되는가?
- Call Stack과 관련이 있는가?
- Phase 1에서 배운 Call Stack 지식을 어떻게 적용할 수 있는가?

- 0은 0초 후 실행이라는 의미지만 실제로 0초가 아니라고 봤던거같습니다 (0.xxx초)
- setTimeout은 비동기 함수(바로 콜스택에 올라가는게 아니라 큐에서 대기 후 콜스택이 비면 올라가는 함수)이므로 콜스택에 바로 올라간 A,C가 먼저 실행됩니다
- 콜스택에서는 한번에 하나의 일만 가능 -> 바로 올라간 A,C 처리 후 비어지면 B 올라감
```

**대안 가설 (최소 1개 이상):**

```
혹시 다르게 동작할 가능성은?
- 대안 1: ...
- 대안 2: ...

- 0초가 진짜 0초라 바로 콜스택에 올라가는 경우..? 근데 이것도 setTimeout은 큐에 들렸다가 등록되므로 무조건 A,C보다 늦게 실행됨
- setTimeout이 블로킹 하는 경우 > 즉 비동기가 아니라 A -> setTimeout 라인 완료 후 -> C인 경우
```

---

## 사고 체크 (교정 받을 영역)

**사용한 용어 점검:**

- [ ] "먼저/나중" 같은 모호한 표현 사용했는가?
- [ ] 정확한 시점을 명시했는가?
- [ ] "비동기" 같은 포괄적 용어 대신 구체적으로 설명했는가?

**논리 점검:**

- [ ] 예측과 이유가 논리적으로 일관되는가?
- [ ] 모순되는 진술이 있는가?

**가정 점검:**

- [ ] 숨겨진 가정이 있는가?
- [ ] 그 가정은 검증 가능한가?
- [ ] Phase 1의 결과를 고려했는가?

---

## 실험 실행

**실제 결과:**

```
A -> C -> B
```

**관찰:**

```
- 예측과 일치하는가? > 네
- 예상과 다른 점은? > 없음
- 브라우저 상태는? > 정상
- 특이사항은? > 없음
```

---

## 분석

**예측과 일치/불일치:**

```
일치
```

**왜 그런 결과가 나왔는가?**

```
위 예측과 동일함
다만 예측에서는 setTimeout 함수 자체가 비동기 함수라 하엿는데,
실제로는 setTimeout의 콜백함수가 비동기가되는 상황임.
```

**틀렸다면, 어떤 가정이 잘못되었나?**

```
(틀린 경우에만 작성)
- 가정 1이 틀렸음: ...
- 실제로는 ...
```

---

## 새로운 질문

**이 실험에서 생긴 새로운 의문:**

```
- 그러면 setTimeout(<여기가 비동기인것인가?>)
- 맞다면 만약 콜백함수에 async 키워드를 쓰면 어떻게 되는지?
setTimeout(async () => {
// ...
})

```

**다음 실험 아이디어:**

```
- 실험 아이디어 1: ...
- 실험 아이디어 2: ...
```

---

## 이전 실험과의 연결

**Phase 1에서 배운 것:**

- Call Stack의 LIFO 구조
- 싱글쓰레드 = 한 번에 하나의 함수만 실행
- 함수 실행 → Call Stack에 쌓임
- 함수 return → Call Stack에서 제거

**이번 실험에서 검증할 것:**

- setTimeout의 콜백은 언제 실행되는가?
- Call Stack과 어떤 관계가 있는가?
- "0ms 후"의 정확한 의미는?
